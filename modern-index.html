<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmácia São Benedito - Sua Saúde em Primeiro Lugar</title>
    <meta name="description" content="Farmácia online com medicamentos de qualidade, entrega rápida e os melhores preços. Sua saúde em primeiro lugar.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="modern/css/modern-styles.css">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header Container -->
    <div id="header-container"></div>

    <!-- Main Content -->
    <main class="main">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="hero__content">
                    <div class="hero__text">
                        <h1 class="hero__title">Sua saúde em primeiro lugar</h1>
                        <p class="hero__subtitle">Medicamentos de qualidade com entrega rápida e segura na sua casa</p>
                        <div class="hero__actions">
                            <a href="produtos.html" class="btn btn--primary">Ver Produtos</a>
                            <button class="btn btn--secondary">Nossas Ofertas</button>
                        </div>
                    </div>
                    <div class="hero__image">
                        <i class="fas fa-prescription-bottle-alt hero__icon"></i>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features -->
        <section class="features">
            <div class="container">
                <div class="features__grid">
                    <div class="feature">
                        <div class="feature__icon">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <h3 class="feature__title">Entrega Rápida</h3>
                        <p class="feature__text">Receba seus medicamentos em até 2 horas</p>
                    </div>
                    <div class="feature">
                        <div class="feature__icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3 class="feature__title">Segurança</h3>
                        <p class="feature__text">Produtos originais e certificados</p>
                    </div>
                    <div class="feature">
                        <div class="feature__icon">
                            <i class="fas fa-tags"></i>
                        </div>
                        <h3 class="feature__title">Melhores Preços</h3>
                        <p class="feature__text">Ofertas especiais todos os dias</p>
                    </div>
                    <div class="feature">
                        <div class="feature__icon">
                            <i class="fas fa-user-md"></i>
                        </div>
                        <h3 class="feature__title">Atendimento Especializado</h3>
                        <p class="feature__text">Farmacêuticos qualificados para te ajudar</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Product Categories -->
        <section class="categories">
            <div class="container">
                <h2 class="section-title">Categorias</h2>
                <div class="categories__grid" id="categories-grid">
                    <!-- Categories will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Featured Products -->
        <section class="products">
            <div class="container">
                <h2 class="section-title">Produtos em Destaque</h2>
                <div class="products__grid" id="products-grid">
                    <!-- Products will be loaded here -->
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <!-- Footer Container -->
    <div id="footer-container"></div>

        <!-- Scripts -->
        <!-- Showcase PoC: ativa modo vitrine via ?vitrine=1 (lê /data/products.json e bloqueia escritas) -->
        <script type="module">
            const params = new URLSearchParams(location.search);
            const showcase = params.get('vitrine') === '1';
            if (showcase) {
                window.SHOWCASE_MODE = true;
                import('./modern/js/bootstrap.js').then(async ({ bootstrap }) => {
                    try {
                        await bootstrap.init();
                    } catch {}
                    const cacheKey = 'products_cache_vitrine';
                    const ttl = 60 * 60 * 1000; // 60 min
                    bootstrap.firebase.getProducts = async () => {
                        const now = Date.now();
                        try {
                            const cached = JSON.parse(localStorage.getItem(cacheKey) || 'null');
                            if (cached?.items && now - (cached.ts || 0) < ttl) {
                                return cached.items;
                            }
                        } catch {}
                        try {
                            const resp = await fetch('/data/products.json', { cache: 'no-store' });
                            const items = await resp.json();
                            try { localStorage.setItem(cacheKey, JSON.stringify({ items, ts: now })); } catch {}
                            return Array.isArray(items) ? items : [];
                        } catch (e) {
                            console.error('[Showcase] Falha ao carregar /data/products.json', e);
                            return [];
                        }
                    };
                    // Bloquear operações de escrita
                    ['addProduct','updateProduct','deleteProduct','createOrder','addClient','updateClient','deleteClient']
                        .forEach(m => {
                            if (typeof bootstrap.firebase[m] === 'function') {
                                bootstrap.firebase[m] = async () => { throw new Error('Modo vitrine: operação não permitida'); };
                            }
                        });
                });
            }
        </script>
        <script type="module" src="modern/js/app.js"></script>
</body>
</html>